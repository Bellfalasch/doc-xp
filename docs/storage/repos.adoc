= Repositories
:toc: right
:imagesdir: images

Repositories are the fundamental concept that enables you to create and store data in silos.
You may create any number of repositories within a single instance of Enonic XP.

Each repository must have a name.
Best practice is to name or prefix the repository according to your application. i.e. a good repository name might be: com.company.myapp

Data stored in a repository will typically belong to a common domain. Fetches and searches are typically executed against
a single repository, so it makes sense to keep data from different domains separated in different repositories.

image::sub-repos.png[]

== System repository

Out of the box, Enonic XP ships with a system repository.
The system repository is used for the following purposes:

* Id-provider specific data, such as users, groups and roles.
* Repositories metadata regarding other repos created within the instance
* Applications that have been installed through the API

== Managing repositories

An API for managing repositories is available, but we also recommend checking out https://market.enonic.com/vendors/glenn-ricaud/data-toolbox.
When creating or deleting a repository, repository metadata, as well as underlying storage- and search-indexes will be configured.

=== Persistence
The XP repository essentially deals with data and its metadata.

Data and selected metadata such as permissions and index configurations are persisted as files.
Metadata regarding hierarchical structures and search indexes are stored and distributed with Elasticsearch, which is embedded in XP.
The files are stored in so-called BlobStores. BlobStores are organized per repository, and by type, which makes it easy to identify which files belong to what repository.

For clustered deployments, Enonic XP currently relies on access to a shared file system.
